<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" type="text/css" href="../../../css/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../../css/themes/icon.css">
    <script src="../../../js/jquery.min.js"></script>
    <script src="../../../js/jquery.easyui.min.js"></script>

    <script src="../../../js/easyui-lang-zh_CN.js" charset="utf-8"></script>
    <script src="../../../js/jquery.edatagrid.js"></script>
</head>

<body style="font-size:12px">
<div style="width:100%;heigth:100%;background: #eee;">
    <table id="table_01" style="width:100%;heigth:100%;"
           toolbar="#toolbar01" pagination="true" idfield="id"
           rownumbers="true" fitcolumns="false" striped="true"
           singleselect="false">
        <thead>
        <tr>
            <th field="time" width="100px" editor="{type:'textbox',options:{readonly:true}}">日期</th>
            <th field="project" width="100px" editor="{type:'textbox',options:{readonly:true}}">项目</th>
            <th field="supplier" width="150px" editor="{type:'textbox',options:{readonly:true}}">供应商</th>
            <th field="product_name" width="100px" editor="{type:'textbox',options:{readonly:true}}">产品名称</th>
            <th field="purchase_unit_price" width="50px" editor="{type:'textbox',options:{readonly:true}}">单价</th>
            <th field="highest_unit_price" width="100px" editor="{type:'textbox',options:{readonly:true}}">历史最高单价</th>
            <th field="budget_note" width="120px" editor="{type:'textbox',options:{readonly:true}}">备注</th>
            <th field="last_modifier" width="100px" editor="{type:'textbox',options:{readonly:true}}">最后修改人</th>
            <th field="timestamp" width="160px" editor="{type:'textbox',options:{readonly:true}}">系统操作时间</th>
            <th field="pass_if" width="70px" data-options="
                                editor:{type:'combobox',options:{
                                valueField: 'label',
                                textField: 'value',
                                panelHeight: 'auto',
                                data: [{
                                                                label: '是',
                                                                value: '是'
                                                        },{
                                                                label: '否',
                                                                value: '否'
                                                        }]
                        }}">是否通过
            </th>
        </tr>
        </thead>
        <div id="toolbar01">
            <a href="#" class="easyui-linkbutton" iconcls="icon-save" plain="true"
               onclick="javascript: $('#table_01').edatagrid('saveRow');">保存</a>
            <a href="#" class="easyui-linkbutton" iconcls="icon-undo" plain="true"
               onclick="javascript:
                        $('#table_01').edatagrid('cancelRow');
                        $('#table_01').edatagrid('unselectAll');">撤销</a>
        </div>
    </table>
</div>

</body>

<script type="text/javascript">
    $(document).ready(function () {
        mygrid01();
    });

    function mygrid01() {
        $('#table_01').edatagrid({
            onError: function (index, data) {
                $.messager.alert('警告', '出错了! <br/>出错位置= ' + index + ' <br/>错误内容= ' + data.isError);
            },
            url: 'get_approve_data.php',
            updateUrl: 'update_data11.php'
        });
    };


</script>
</html>
